"use strict";(self.webpackChunksaurus=self.webpackChunksaurus||[]).push([[69203],{49339:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"developer-guide/projects/image-builder-crc/HACKING","title":"Image Builder contributing guide","description":"\x3c!--","source":"@site/docs/developer-guide/02-projects/image-builder-crc/HACKING.md","sourceDirName":"developer-guide/02-projects/image-builder-crc","slug":"/developer-guide/projects/image-builder-crc/HACKING","permalink":"/docs/developer-guide/projects/image-builder-crc/HACKING","draft":false,"unlisted":false,"editUrl":"https://github.com/osbuild/image-builder-crc/blob/main/HACKING.md","tags":[],"version":"current","frontMatter":{"custom_edit_url":"https://github.com/osbuild/image-builder-crc/blob/main/HACKING.md"},"sidebar":"developer","previous":{"title":"Image Builder console.redhat.com Middleware","permalink":"/docs/developer-guide/projects/image-builder-crc/"},"next":{"title":"Image Builder Frontend","permalink":"/docs/developer-guide/projects/image-builder-frontend/"}}');var r=n(74848),o=n(28453);const s={custom_edit_url:"https://github.com/osbuild/image-builder-crc/blob/main/HACKING.md"},d="Image Builder contributing guide",c={},l=[{value:"Running the project locally",id:"running-the-project-locally",level:2},{value:"Running the project without composer",id:"running-the-project-without-composer",level:2},{value:"Updating package lists",id:"updating-package-lists",level:2},{value:"Updating ./distributions",id:"updating-distributions",level:2}];function a(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"image-builder-contributing-guide",children:"Image Builder contributing guide"})}),"\n",(0,r.jsxs)(t.p,{children:["Please refer to the ",(0,r.jsx)(t.a,{href:"https://www.osbuild.org/docs/developer-guide/index",children:"developer guide"})," to learn about our workflow, code style and more."]}),"\n",(0,r.jsx)(t.h2,{id:"running-the-project-locally",children:"Running the project locally"}),"\n",(0,r.jsxs)(t.p,{children:["If you want to run project locally directly on your machine,\nyou can use ",(0,r.jsx)(t.code,{children:"local.env"})," to pass configuration environment variables."]}),"\n",(0,r.jsx)(t.h2,{id:"running-the-project-without-composer",children:"Running the project without composer"}),"\n",(0,r.jsx)(t.p,{children:"It is possible to provide fake composer connection in order to start the service:"}),"\n",(0,r.jsxs)(t.p,{children:["PGHOST=nuc\nPGDATABASE=database\nPGUSER=user\nPGPASSWORD=password\nCOMPOSER_CLIENT_ID=1\nCOMPOSER_TOKEN_URL=",(0,r.jsx)(t.a,{href:"http://localhost",children:"http://localhost"}),"\nCOMPOSER_OFFLINE_TOKEN=1\nDISTRIBUTIONS_DIR=distributions\nLOG_LEVEL=trace"]}),"\n",(0,r.jsx)(t.p,{children:"Then build and run the project, or just:"}),"\n",(0,r.jsx)(t.p,{children:"make run"}),"\n",(0,r.jsx)(t.h2,{id:"updating-package-lists",children:"Updating package lists"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"tools/generate-package-lists"})," can be used in combination with a ",(0,r.jsx)(t.code,{children:"distributions/"}),"\nfile to generate a package list."]}),"\n",(0,r.jsxs)(t.p,{children:["If the repository requires a client tls key/cert you can supply them with\n",(0,r.jsx)(t.code,{children:"--key"})," and ",(0,r.jsx)(t.code,{children:"--cert"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"updating-distributions",children:"Updating ./distributions"}),"\n",(0,r.jsxs)(t.p,{children:["The files in ",(0,r.jsx)(t.code,{children:"./distributions"})," are updated manually. When a new RHEL minor\nrelease becomes generally available (GA), the previous release's directory is\ncopied and all references to the release version are updated. The symlink for\nthe major release is updated to point to the latest minor release."]}),"\n",(0,r.jsx)(t.p,{children:"Note that the repository keys do not change between minor releases and do not\nrequire updating."})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>d});var i=n(96540);const r={},o=i.createContext(r);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);