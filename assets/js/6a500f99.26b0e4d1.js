"use strict";(self.webpackChunksaurus=self.webpackChunksaurus||[]).push([[7991],{9079:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"developer-guide/projects/osbuild/deprecation","title":"Deprecation","description":"osbuild gives the guarantee that a given manifest will produce the same image as long as any external sources remain available in any future versions of osbuild.","source":"@site/docs/developer-guide/02-projects/osbuild/deprecation.md","sourceDirName":"developer-guide/02-projects/osbuild","slug":"/developer-guide/projects/osbuild/deprecation","permalink":"/docs/developer-guide/projects/osbuild/deprecation","draft":false,"unlisted":false,"editUrl":"https://github.com/osbuild/osbuild.github.io/tree/main/docs/developer-guide/02-projects/osbuild/deprecation.md","tags":[],"version":"current","frontMatter":{},"sidebar":"developer","previous":{"title":"Contributing","permalink":"/docs/developer-guide/projects/osbuild/contributing"},"next":{"title":"Manifest","permalink":"/docs/developer-guide/projects/osbuild/manifest"}}');var s=i(4848),n=i(8453);const a={},r="Deprecation",d={},c=[{value:"Modules",id:"modules",level:2},{value:"Stage compatibility version",id:"stage-compatibility-version",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"deprecation",children:"Deprecation"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"osbuild"})," gives the guarantee that a given ",(0,s.jsx)(t.a,{href:"/docs/developer-guide/projects/osbuild/manifest",children:"manifest"})," will produce the same image as long as any external sources remain available in any future versions of ",(0,s.jsx)(t.code,{children:"osbuild"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"modules",children:"Modules"}),"\n",(0,s.jsxs)(t.p,{children:["As ",(0,s.jsx)(t.code,{children:"osbuild"})," guarantees that the same manifest will produce the same image ",(0,s.jsx)(t.a,{href:"/docs/developer-guide/projects/osbuild/modules/",children:"modules"})," cannot change their schema or behavior after introduction. They can only be expanded upon."]}),"\n",(0,s.jsx)(t.h2,{id:"stage-compatibility-version",children:"Stage compatibility version"}),"\n",(0,s.jsxs)(t.p,{children:["Sometimes the behaviour of a stage needs to be changed to fix a bug.  In these cases, it might not make sense to add a stage option to toggle the behaviour, since the default is undesirable.  However, changing the behaviour without changing anything in the stage options violates the rules and guarantees described above.  For this, we introduced the convention of a ",(0,s.jsx)(t.code,{children:"compat_version"})," (Compatibility version) that we can add to a stage's options."]}),"\n",(0,s.jsxs)(t.p,{children:["The first instance of this was in ",(0,s.jsx)(t.a,{href:"https://github.com/osbuild/osbuild/pull/2104",children:"osbuild PR#2104"}),"."]})]})}function u(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>r});var o=i(6540);const s={},n=o.createContext(s);function a(e){const t=o.useContext(n);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(n.Provider,{value:t},e.children)}}}]);