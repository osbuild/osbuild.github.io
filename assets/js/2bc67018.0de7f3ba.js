"use strict";(self.webpackChunksaurus=self.webpackChunksaurus||[]).push([[798],{3139:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>D,contentTitle:()=>C,default:()=>P,frontMatter:()=>q,metadata:()=>n,toc:()=>O});const n=JSON.parse('{"id":"hosted/architecture/index","title":"Architecture","description":"Hosted service architecture","source":"@site/docs/hosted/architecture/index.md","sourceDirName":"hosted/architecture","slug":"/hosted/architecture/","permalink":"/docs/hosted/architecture/","draft":false,"unlisted":false,"editUrl":"https://github.com/osbuild/osbuild.github.io/tree/main/docs/hosted/architecture/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"hosted","next":{"title":"Image Builder Backend","permalink":"/docs/hosted/architecture/image-builder-crc"}}');var a,i,l,r,c,o,d,h,m,p,u,g,x,b,f,E,j,v,w,y,N,k,H,M,R=s(4848),z=s(8453),T=s(6540);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},I.apply(null,arguments)}const S=e=>{let{title:t,titleId:s,...n}=e;return T.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",id:"artwork",viewBox:"0 0 760 311.63","aria-labelledby":s},n),t?T.createElement("title",{id:s},t):null,a||(a=T.createElement("defs",{id:"defs4"},T.createElement("style",{id:"style2"},'.cls-2,.cls-3{fill:none}.cls-2{stroke:#06c}.cls-2,.cls-4{stroke-linecap:round;stroke-linejoin:round}.cls-5{fill:#06c}.cls-4,.cls-6{fill:#fff}.cls-7{fill:#e8e8e8}.cls-8,.cls-9{font-family:RedHatTextRoman-Medium,"Red Hat Text";font-variation-settings:"wght"500;font-weight:500}.cls-10,.cls-11,.cls-8{fill:#151515;font-size:12px}.cls-13{font-family:RedHatTextRoman-Regular,"Red Hat Text";font-variation-settings:"wght"400}.cls-3{stroke:#adadad;stroke-miterlimit:10}.cls-4{stroke:#5b5b5b;stroke-width:1.5px}.cls-11{font-family:RedHatTextRoman-Bold,"Red Hat Text";font-variation-settings:"wght"700;font-weight:700}'))),T.createElement("g",{id:"g12"},T.createElement("text",{id:"text8",style:{fill:"#ececec",fontSize:10,fontFamily:"RedHatTextRoman-Regular,&quot",fontVariationSettings:"&quot"},transform:"translate(715.77 294.65)"},i||(i=T.createElement("tspan",{id:"tspan6",x:0,y:0},"306_0123"))),T.createElement("path",{id:"rect10",d:"M0 271.63h760v40H0z",style:{fill:"none"}})),l||(l=T.createElement("g",{id:"g20"},T.createElement("path",{id:"rect14",d:"M575 20h185v114.5H575z",className:"cls-7",transform:"rotate(-180 667.5 77.25)"}),T.createElement("text",{id:"text18",className:"cls-11",transform:"translate(590 43.85)"},T.createElement("tspan",{id:"tspan16",x:0,y:0},"AmazonEC2")))),r||(r=T.createElement("path",{id:"rect22",d:"M375 20h175v114.5H375z",className:"cls-7",transform:"rotate(-180 462.5 77.25)"})),c||(c=T.createElement("text",{id:"text26",className:"cls-11",transform:"translate(390 43.85)"},T.createElement("tspan",{id:"tspan24",x:0,y:0},"api.openshift.com"))),o||(o=T.createElement("a",{xlinkHref:"https://github.com/osbuild/osbuild-composer/commits/4b55bc282522b4738fac03d4b8acf1fae72a3830",id:"a403"},T.createElement("g",{id:"g40"},T.createElement("g",{id:"g32"},T.createElement("path",{id:"rect28",d:"M390.5 60h144v49h-144z",className:"cls-6"}),T.createElement("path",{id:"path30",d:"M534 60.5v48H391v-48zm1-1H390v50h145z",className:"cls-5"})),T.createElement("text",{id:"text38",className:"cls-8",transform:"translate(420.17 81.44)"},T.createElement("tspan",{id:"tspan34",x:0,y:0},"image-builder-"),T.createElement("tspan",{id:"tspan36",x:14.45,y:13},"composer"))))),d||(d=T.createElement("path",{id:"rect42",d:"M375 159.5h175v135H375z",className:"cls-7",transform:"rotate(-180 462.5 227)"})),h||(h=T.createElement("path",{id:"rect44",d:"M175 159.5h175v135H175z",className:"cls-7",transform:"rotate(-180 262.5 227)"})),m||(m=T.createElement("text",{id:"text48",className:"cls-11",transform:"translate(390 279.57)"},T.createElement("tspan",{id:"tspan46",x:0,y:0},"AmazonRDS"))),p||(p=T.createElement("text",{id:"text52",className:"cls-11",transform:"translate(190 279.57)"},T.createElement("tspan",{id:"tspan50",x:0,y:0},"AmazonRDS"))),u||(u=T.createElement("path",{id:"rect54",d:"M0 20h350v114.5H0z",className:"cls-7",transform:"rotate(-180 175 77.25)"})),g||(g=T.createElement("g",{id:"g76"},T.createElement("g",{id:"g64"},T.createElement("path",{id:"path56",d:"M262.5 184.25c-10.19 0-18.45 4.06-18.45 9.69v16.94c0 5.63 8.26 10.19 18.45 10.19s18.45-4.56 18.45-10.19v-16.94c0-5.63-8.26-9.69-18.45-9.69",className:"cls-4"}),T.createElement("path",{id:"path58",d:"M280.95 205.19c0 5.63-8.26 10.19-18.45 10.19s-18.45-4.56-18.45-10.19",className:"cls-4"}),T.createElement("path",{id:"path60",d:"M280.95 199.44c0 5.63-8.26 10.19-18.45 10.19s-18.45-4.56-18.45-10.19",className:"cls-4"}),T.createElement("path",{id:"path62",d:"M280.95 193.94c0 5.63-8.26 10.19-18.45 10.19s-18.45-4.56-18.45-10.19 8.26-9.69 18.45-9.69 18.45 4.06 18.45 9.69",className:"cls-4"})),T.createElement("text",{id:"text74",className:"cls-10",transform:"translate(212.83 238.72)"},T.createElement("tspan",{id:"tspan68",className:"cls-9"},T.createElement("tspan",{id:"tspan66",x:0,y:0},"image-builder-db")),T.createElement("tspan",{id:"tspan72",className:"cls-13"},T.createElement("tspan",{id:"tspan70",x:1.16,y:15},"(Insights account)"))))),x||(x=T.createElement("g",{id:"g82"},T.createElement("path",{id:"line78",d:"M180.83 84.5h-15.82",className:"cls-2"}),T.createElement("path",{id:"polygon80",d:"m179.37 79.51 8.64 4.99-8.64 4.99z",className:"cls-5"}))),b||(b=T.createElement("g",{id:"g88"},T.createElement("path",{id:"line84",d:"M262.5 173.79V109.5",className:"cls-2"}),T.createElement("path",{id:"polygon86",d:"m267.49 172.34-4.99 8.63-4.99-8.63z",className:"cls-5"}))),f||(f=T.createElement("g",{id:"g110"},T.createElement("g",{id:"g98"},T.createElement("path",{id:"path90",d:"M462.5 184.25c-10.19 0-18.45 4.06-18.45 9.69v16.94c0 5.63 8.26 10.19 18.45 10.19s18.45-4.56 18.45-10.19v-16.94c0-5.63-8.26-9.69-18.45-9.69",className:"cls-4"}),T.createElement("path",{id:"path92",d:"M480.95 205.19c0 5.63-8.26 10.19-18.45 10.19s-18.45-4.56-18.45-10.19",className:"cls-4"}),T.createElement("path",{id:"path94",d:"M480.95 199.44c0 5.63-8.26 10.19-18.45 10.19s-18.45-4.56-18.45-10.19",className:"cls-4"}),T.createElement("path",{id:"path96",d:"M480.95 193.94c0 5.63-8.26 10.19-18.45 10.19s-18.45-4.56-18.45-10.19 8.26-9.69 18.45-9.69 18.45 4.06 18.45 9.69",className:"cls-4"})),T.createElement("text",{id:"text108",className:"cls-10",transform:"translate(424.51 238.72)"},T.createElement("tspan",{id:"tspan102",className:"cls-9"},T.createElement("tspan",{id:"tspan100",x:0,y:0},"composer-db")),T.createElement("tspan",{id:"tspan106",className:"cls-13"},T.createElement("tspan",{id:"tspan104",x:-12.14,y:15},"(AppSRE account)"))))),E||(E=T.createElement("g",{id:"g116"},T.createElement("path",{id:"line112",d:"M462.5 173.79V109.5",className:"cls-2"}),T.createElement("path",{id:"polygon114",d:"m467.49 172.34-4.99 8.63-4.99-8.63z",className:"cls-5"}))),j||(j=T.createElement("g",{id:"g122"},T.createElement("path",{id:"line118",d:"M380.32 84.5H335",className:"cls-2"}),T.createElement("path",{id:"polygon120",d:"m378.86 79.51 8.64 4.99-8.64 4.99z",className:"cls-5"}))),v||(v=T.createElement("g",{id:"g128"},T.createElement("path",{id:"line124",d:"M590 84.5h-45.32",className:"cls-2"}),T.createElement("path",{id:"polygon126",d:"m546.14 79.51-8.64 4.99 8.64 4.99z",className:"cls-5"}))),w||(w=T.createElement("text",{id:"text132",className:"cls-11",transform:"translate(15 43.85)"},T.createElement("tspan",{id:"tspan130",x:0,y:0},"console.redhat.com"))),y||(y=T.createElement("a",{xlinkHref:"https://github.com/RedHatInsights/image-builder-frontend/commits/c98b7d9997406bacfa48b5094528798cefa65989",id:"a294"},T.createElement("g",{id:"g146",onclick:"https://github.com/RedHatInsights/image-builder-frontend/commits/c98b7d9997406bacfa48b5094528798cefa65989"},T.createElement("g",{id:"g138"},T.createElement("path",{id:"rect134",d:"M15.5 60h149v49h-149z",className:"cls-6"}),T.createElement("path",{id:"path136",d:"M164 60.5v48H16v-48zm1-1H15v50h150z",className:"cls-5"})),T.createElement("text",{id:"text144",className:"cls-8",transform:"translate(50.17 81.44)"},T.createElement("tspan",{id:"tspan140",x:0,y:0},"image-builder-"),T.createElement("tspan",{id:"tspan142",x:17.37,y:13},"frontend"))))),N||(N=T.createElement("path",{id:"polyline148",d:"M595 114.5h145v-50",className:"cls-3"})),k||(k=T.createElement("path",{id:"polyline150",d:"M600 119.5h145v-50",className:"cls-3"})),H||(H=T.createElement("a",{xlinkHref:"https://github.com/osbuild/osbuild/commits/a8e8ebde4400e94036df35f72b08708f00bd4ffe",id:"a510"},T.createElement("g",{id:"g502"},T.createElement("g",{id:"g156"},T.createElement("path",{id:"rect152",d:"M590.5 60h144v49h-144z",className:"cls-6"}),T.createElement("path",{id:"path154",d:"M734 60.5v48H591v-48zm1-1H590v50h145z",className:"cls-5"})),T.createElement("text",{id:"text160",className:"cls-8",transform:"translate(628.43 88)"},T.createElement("tspan",{id:"tspan158",x:0,y:0},"worker fleet"))))),M||(M=T.createElement("a",{xlinkHref:"https://github.com/osbuild/image-builder/commits/9bcc1043e0b661bb34dbbe9929e29068e787d029",id:"a303"},T.createElement("g",{id:"g174"},T.createElement("g",{id:"g166"},T.createElement("path",{id:"rect162",d:"M190.5 60h144v49h-144z",className:"cls-6"}),T.createElement("path",{id:"path164",d:"M334 60.5v48H191v-48zm1-1H190v50h145z",className:"cls-5"})),T.createElement("text",{id:"text172",className:"cls-8",transform:"translate(220.17 81.44)"},T.createElement("tspan",{id:"tspan168",x:0,y:0},"image-builder-"),T.createElement("tspan",{id:"tspan170",x:18.4,y:13},"backend"))))))},q={},C="Architecture",D={},O=[{value:"Hosted service architecture",id:"hosted-service-architecture",level:2},{value:"How to contribute",id:"how-to-contribute",level:2},{value:"How to reach out to us",id:"how-to-reach-out-to-us",level:3},{value:"How open is this service?",id:"how-open-is-this-service",level:2},{value:"\ud83d\udfe2 Open assets",id:"-open-assets",level:4},{value:"\ud83d\udfe2 Contribution workflow",id:"-contribution-workflow",level:4},{value:"\ud83d\udfe0 Issue tracking and planning",id:"-issue-tracking-and-planning",level:4},{value:"\ud83d\udfe2 Documentation",id:"-documentation",level:4},{value:"\ud83d\udfe0 Communication",id:"-communication",level:4},{value:"\ud83d\udfe0 Open Site Reliability Engineering",id:"-open-site-reliability-engineering",level:4}];function A(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,z.R)(),...e.components};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(t.header,{children:(0,R.jsx)(t.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,R.jsx)(t.h2,{id:"hosted-service-architecture",children:"Hosted service architecture"}),"\n",(0,R.jsxs)(t.p,{children:["Users with a Red Hat account or a ",(0,R.jsx)(t.a,{href:"https://developers.redhat.com/articles/faqs-no-cost-red-hat-enterprise-linux",children:"no-cost Red Hat Developer Subscription"})," can use our ",(0,R.jsx)(t.a,{href:"https://console.redhat.com/insights/image-builder",children:"hosted service"})," without installing anything on their local machines.\nSee our ",(0,R.jsx)(t.a,{href:"/docs/on-premises/overview",children:"on premises"})," documentation to run image builder yourself."]}),"\n",(0,R.jsx)(t.p,{children:"This service is open source, so all of its code is inspectable and can be contributed to."}),"\n",(0,R.jsx)(S,{}),"\n",(0,R.jsxs)(t.blockquote,{children:["\n",(0,R.jsxs)(t.p,{children:["Click each component in this diagram to get to the ",(0,R.jsx)(t.strong,{children:"hash"})," of the source code ",(0,R.jsx)(t.strong,{children:"currently running in production"}),"."]}),"\n"]}),"\n",(0,R.jsxs)(t.p,{children:["The metadata defining the service for App-Interface is kept upstream and open as templates for both the ",(0,R.jsx)(t.a,{href:"https://github.com/osbuild/osbuild-composer/blob/main/templates/composer.yml",children:"osbuild-composer"})," and ",(0,R.jsx)(t.a,{href:"https://github.com/osbuild/image-builder/blob/main/templates/image-builder.yml",children:"image-builder components"}),".\nThe tooling to operate the service is to large parts open source and publicly accessible, e.g. qontract in the form of ",(0,R.jsx)(t.a,{href:"https://github.com/app-sre/qontract-server",children:"qontract-server"}),", ",(0,R.jsx)(t.a,{href:"https://github.com/app-sre/qontract-reconcile",children:"qontract-reconcile"}),".\nThe architecture documents in this section comply with the AppSRE contract."]}),"\n",(0,R.jsxs)(t.ul,{children:["\n",(0,R.jsx)(t.li,{children:(0,R.jsx)(t.a,{href:"https://developers.redhat.com/api-catalog/api/image-builder",children:"Service API documentation"})}),"\n"]}),"\n",(0,R.jsx)(t.h2,{id:"how-to-contribute",children:"How to contribute"}),"\n",(0,R.jsxs)(t.p,{children:["Our ",(0,R.jsx)(t.a,{href:"../../developer-guide/index",children:"developer guide"})," is a great starting point to learn about our workflow, code style and more!"]}),"\n",(0,R.jsx)(t.p,{children:"If you want to contribute to our frontend or backend, here are guides on how to get the respective stack set up for development:"}),"\n",(0,R.jsxs)(t.ul,{children:["\n",(0,R.jsx)(t.li,{children:(0,R.jsx)(t.a,{href:"https://github.com/RedHatInsights/image-builder-frontend#frontend-development",children:"image-builder-frontend"})}),"\n",(0,R.jsx)(t.li,{children:(0,R.jsx)(t.a,{href:"https://github.com/RedHatInsights/image-builder-frontend/blob/main/devel/README.md",children:"image-builder-backend"})}),"\n"]}),"\n",(0,R.jsx)(t.h3,{id:"how-to-reach-out-to-us",children:"How to reach out to us"}),"\n",(0,R.jsxs)(t.ul,{children:["\n",(0,R.jsxs)(t.li,{children:["Matrix: ",(0,R.jsx)(t.code,{children:"#image-builder"})," on fedoraproject.org"]}),"\n",(0,R.jsxs)(t.li,{children:["Mailing List: ",(0,R.jsx)(t.a,{href:"mailto:image-builder@redhat.com",children:"image-builder@redhat.com"})]}),"\n",(0,R.jsxs)(t.li,{children:["Issues: ",(0,R.jsx)(t.a,{href:"https://issues.redhat.com/issues/?jql=project%20%3D%20HMS%20and%20component%20in%20(%22Image%20Builder%22)",children:"Service"}),", ",(0,R.jsx)(t.a,{href:"https://issues.redhat.com/issues/?jql=project%20%3D%20COMPOSER",children:"On premises"}),", ",(0,R.jsx)(t.a,{href:"https://github.com/osbuild",children:"github.com/osbuild"})]}),"\n",(0,R.jsxs)(t.li,{children:["Pull requests: ",(0,R.jsx)(t.a,{href:"https://github.com/osbuild",children:"github.com/osbuild"})]}),"\n"]}),"\n",(0,R.jsx)(t.h2,{id:"how-open-is-this-service",children:"How open is this service?"}),"\n",(0,R.jsx)(t.h4,{id:"-open-assets",children:"\ud83d\udfe2 Open assets"}),"\n",(0,R.jsxs)(t.ul,{children:["\n",(0,R.jsxs)(t.li,{children:["\ud83d\udfe2 ",(0,R.jsx)(t.a,{href:"https://github.com/osbuild",children:"The source code is open."})]}),"\n",(0,R.jsx)(t.li,{children:"\ud83d\udfe2 Unit tests are open."}),"\n",(0,R.jsx)(t.li,{children:"\ud83d\udfe2 Performance tests are open."}),"\n",(0,R.jsx)(t.li,{children:"\ud83d\udfe2 Functional tests are open."}),"\n",(0,R.jsx)(t.li,{children:"\ud83d\udfe2 The dependencies are open source."}),"\n",(0,R.jsxs)(t.li,{children:["\ud83d\udfe2 Deployment metadata is open. ",(0,R.jsx)(t.a,{href:"https://github.com/osbuild/osbuild-composer/blob/main/templates/composer.yml",children:"[1]"})," ",(0,R.jsx)(t.a,{href:"https://github.com/osbuild/image-builder/blob/main/templates/image-builder.yml",children:"[2]"})]}),"\n"]}),"\n",(0,R.jsx)(t.h4,{id:"-contribution-workflow",children:"\ud83d\udfe2 Contribution workflow"}),"\n",(0,R.jsxs)(t.ul,{children:["\n",(0,R.jsx)(t.li,{children:"\ud83d\udfe2 External contributors can follow the same workflow as team members."}),"\n",(0,R.jsxs)(t.li,{children:["\ud83d\udfe2 ",(0,R.jsx)(t.a,{href:"../../developer-guide/general/workflow",children:"The workflow is publicly documented."})]}),"\n",(0,R.jsx)(t.li,{children:"\ud83d\udfe2 Regular contributors can trigger CI."}),"\n",(0,R.jsx)(t.li,{children:"\ud83d\udfe2 External contributions are eagerly reviewed."}),"\n"]}),"\n",(0,R.jsx)(t.h4,{id:"-issue-tracking-and-planning",children:"\ud83d\udfe0 Issue tracking and planning"}),"\n",(0,R.jsxs)(t.ul,{children:["\n",(0,R.jsxs)(t.li,{children:["\ud83d\udfe2 The issue tracker is public. ",(0,R.jsx)(t.a,{href:"https://github.com/osbuild",children:"[1]"})," ",(0,R.jsx)(t.a,{href:"https://issues.redhat.com/issues/?jql=project%20%3D%20COMPOSER%20or%20(project%20%3D%20HMS%20AND%20component%20in%20(%22Image%20Builder%22))",children:"[2]"})]}),"\n",(0,R.jsxs)(t.li,{children:["\ud83d\udfe0 The roadmap is public. ",(0,R.jsx)(t.a,{href:"https://github.com/orgs/osbuild/projects",children:"[1]"})]}),"\n"]}),"\n",(0,R.jsx)(t.h4,{id:"-documentation",children:"\ud83d\udfe2 Documentation"}),"\n",(0,R.jsxs)(t.ul,{children:["\n",(0,R.jsxs)(t.li,{children:["\ud83d\udfe2 ",(0,R.jsx)(t.a,{href:"../../user-guide/introduction",children:"User documentation is public."})]}),"\n",(0,R.jsxs)(t.li,{children:["\ud83d\udfe2 ",(0,R.jsx)(t.a,{href:"../../developer-guide/index",children:"Developer documentation is public."})]}),"\n"]}),"\n",(0,R.jsx)(t.h4,{id:"-communication",children:"\ud83d\udfe0 Communication"}),"\n",(0,R.jsxs)(t.ul,{children:["\n",(0,R.jsxs)(t.li,{children:["\ud83d\udfe2 ",(0,R.jsx)(t.a,{href:"mailto:image-builder@redhat.com",children:"There is a public mailinglist."})]}),"\n",(0,R.jsx)(t.li,{children:"\ud83d\udd34 There are public meetings."}),"\n"]}),"\n",(0,R.jsx)(t.h4,{id:"-open-site-reliability-engineering",children:"\ud83d\udfe0 Open Site Reliability Engineering"}),"\n",(0,R.jsxs)(t.ul,{children:["\n",(0,R.jsxs)(t.li,{children:["\ud83d\udfe2 ",(0,R.jsx)(t.a,{href:"https://status.redhat.com",children:"There is an open status page."})]}),"\n",(0,R.jsx)(t.li,{children:"\ud83d\udd34 Logging, monitoring, and alerting is open."}),"\n",(0,R.jsx)(t.li,{children:"\ud83d\udd34 Incident management is open."}),"\n"]})]})}function P(e={}){const{wrapper:t}={...(0,z.R)(),...e.components};return t?(0,R.jsx)(t,{...e,children:(0,R.jsx)(A,{...e})}):A(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>l,x:()=>r});var n=s(6540);const a={},i=n.createContext(a);function l(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);