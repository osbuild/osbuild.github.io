"use strict";(self.webpackChunksaurus=self.webpackChunksaurus||[]).push([[2028],{37697:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>a,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"developer-guide/projects/osbuild/modules/stages/org.osbuild.treeinfo","title":"org.osbuild.treeinfo","description":"\x3c!--","source":"@site/docs/developer-guide/02-projects/osbuild/modules/stages/org.osbuild.treeinfo.md","sourceDirName":"developer-guide/02-projects/osbuild/modules/stages","slug":"/developer-guide/projects/osbuild/modules/stages/org.osbuild.treeinfo","permalink":"/docs/developer-guide/projects/osbuild/modules/stages/org.osbuild.treeinfo","draft":false,"unlisted":false,"editUrl":"https://github.com/osbuild/osbuild/tree/main/stages/org.osbuild.treeinfo.meta.json","tags":[],"version":"current","frontMatter":{"custom_edit_url":"https://github.com/osbuild/osbuild/tree/main/stages/org.osbuild.treeinfo.meta.json"},"sidebar":"developer","previous":{"title":"org.osbuild.tmpfilesd","permalink":"/docs/developer-guide/projects/osbuild/modules/stages/org.osbuild.tmpfilesd"},"next":{"title":"org.osbuild.truncate","permalink":"/docs/developer-guide/projects/osbuild/modules/stages/org.osbuild.truncate"}}');var r=t(74848),i=t(28453);const o={custom_edit_url:"https://github.com/osbuild/osbuild/tree/main/stages/org.osbuild.treeinfo.meta.json"},a="org.osbuild.treeinfo",p={},d=[{value:"Schema 1",id:"schema-1",level:2},{value:"Schema 2",id:"schema-2",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"orgosbuildtreeinfo",children:"org.osbuild.treeinfo"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create .treeinfo configuration files."})}),"\n",(0,r.jsx)(n.p,{children:"Creates a .treeinfo file at the specified path with the provided configuration.\nThe .treeinfo file is used to store metadata about the installation tree,\nsuch as the location of the kernel and initrd files, and other relevant information.\nThis stage supports treeinfo 1.0 as documented by productmd project."}),"\n",(0,r.jsx)(n.h2,{id:"schema-1",children:"Schema 1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "additionalProperties": false,\n  "required": [\n    "path",\n    "treeinfo"\n  ],\n  "properties": {\n    "path": {\n      "type": "string",\n      "description": "The path to the treeinfo file to create."\n    },\n    "treeinfo": {\n      "type": "object",\n      "properties": {\n        "release": {\n          "description": "Information about the product release.",\n          "type": "object",\n          "properties": {\n            "name": {\n              "type": "string"\n            },\n            "short": {\n              "type": "string"\n            },\n            "version": {\n              "type": "string"\n            }\n          }\n        },\n        "tree": {\n          "description": "Information about the tree itself.",\n          "type": "object",\n          "properties": {\n            "arch": {\n              "type": "string"\n            },\n            "build_timestamp": {\n              "type": "number"\n            },\n            "platforms": {\n              "type": "array",\n              "items": {\n                "type": "string"\n              }\n            },\n            "variants": {\n              "type": "array",\n              "items": {\n                "type": "string"\n              }\n            }\n          }\n        },\n        "general": {\n          "description": "General information about the tree.",\n          "type": "object",\n          "properties": {\n            "arch": {\n              "type": "string"\n            },\n            "family": {\n              "type": "string"\n            },\n            "name": {\n              "type": "string"\n            },\n            "packagedir": {\n              "type": "string"\n            },\n            "platforms": {\n              "type": "array",\n              "items": {\n                "type": "string"\n              }\n            },\n            "repository": {\n              "type": "string"\n            },\n            "timestamp": {\n              "type": "number"\n            },\n            "variant": {\n              "type": "string"\n            },\n            "version": {\n              "type": "string"\n            }\n          }\n        },\n        "checksums": {\n          "description": "File checksums. List of file paths, checksums are calculated by the stage.",\n          "type": "array",\n          "items": {\n            "type": "string"\n          }\n        },\n        "stage2": {\n          "description": "Stage 2 installer information.",\n          "type": "object",\n          "properties": {\n            "mainimage": {\n              "type": "string"\n            }\n          }\n        }\n      },\n      "patternProperties": {\n        "^images-.*$": {\n          "description": "Per-platform image sections. Keys are image types, values are paths.",\n          "type": "object",\n          "additionalProperties": {\n            "type": "string"\n          }\n        },\n        "^variant-.*$": {\n          "description": "Per-variant details sections.",\n          "type": "object",\n          "properties": {\n            "id": {\n              "type": "string"\n            },\n            "name": {\n              "type": "string"\n            },\n            "packages": {\n              "type": "string"\n            },\n            "repository": {\n              "type": "string"\n            },\n            "type": {\n              "type": "string"\n            },\n            "uid": {\n              "type": "string"\n            }\n          }\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"schema-2",children:"Schema 2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:"{}\n"})})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(96540);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);